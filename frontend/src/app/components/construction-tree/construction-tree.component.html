<!-- Structure Flexbox simple : 100% Hauteur h-[500px]-->
<div class="flex flex-col h-full w-full bg-[#101010]">

    <!-- En-tête Fixe -->
    <div class="flex-none h-10 flex items-center justify-between px-3 border-b border-white/10 bg-[#18181b]">
        <span class="font-bold text-xs uppercase text-gray-400">Étapes</span>
        <span class="bg-blue-600 text-white text-[10px] px-1.5 py-0.5 rounded">{{ visualSteps.length }}</span>
    </div>

    <!-- Zone Scrollable -->
    <!-- flex-1 : Prend le reste -->
    <!-- min-h-0 : C'est le secret pour que le scroll marche dans un flex -->
    <!-- overflow-y-auto : Barre de scroll si besoin -->
    <div class="flex-1 min-h-0 overflow-y-auto p-2">

        @for (step of visualSteps; track step.id; let i = $index) {
        <div
            class="flex items-center p-2 mb-1 rounded hover:bg-white/5 border border-transparent hover:border-white/10 cursor-pointer">
            <div class="w-8 h-8 flex flex-none items-center justify-center bg-[#18181b] rounded mr-3 text-lg">
                <i [class]="step.icon + ' ' + step.iconColor"></i>
            </div>
            <div class="flex-1 min-w-0 overflow-hidden">
                <div class="text-sm font-medium text-gray-200 truncate">{{ step.title }}</div>
                @if (step.subtitle) {
                <div class="text-xs text-gray-500 truncate">{{ step.subtitle }}</div>
                }
            </div>
            <div class="text-[10px] text-gray-500 font-mono ml-2">#{{ i + 1 }}</div>
        </div>
        }
    </div>
</div>